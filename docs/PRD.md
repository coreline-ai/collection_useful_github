# PRD: Unified Knowledge Cardboard

업데이트 기준: 2026-02-16

## 1. 제품 개요

개발자가 자주 찾는 기술 리소스(GitHub 저장소, YouTube 영상, 웹 북마크)를 카드보드로 저장/분류/검색하는 멀티 보드 제품이다.

핵심 가치:

- 수집: URL 입력으로 빠르게 카드화
- 분류: 카테고리/창고 기반 정리
- 조회: 탭별 조회 + 통합 검색
- 안정성: PostgreSQL 우선 저장 + 로컬 fallback

## 2. 타깃 사용자

- 오픈소스/영상/문서를 장기적으로 큐레이션하는 개발자
- 기술 리서치를 주기적으로 축적하는 1인/소규모 팀

## 3. 제품 목표

- 리소스를 탭별로 독립 관리하면서 통합 검색으로 한 번에 찾을 수 있게 한다.
- 저장 실패(네트워크/CORS/서버 중단) 시에도 사용자 작업이 유실되지 않도록 한다.
- 검색 품질을 단순 문자열 매칭 수준에서 관련도 중심으로 개선한다.

## 4. 기능 요구사항

## 4.1 글로벌

- 최상단 탭: `통합검색 > 깃허브 > 유튜브 > 북마크`
- 마지막 선택 탭 localStorage 복원
- 테마: `light | dark`, 저장값 우선, 없으면 OS 감지
- 상단 우측 동기화 상태 배지 표시

## 4.2 GitHub 보드

- 저장소 추가: `owner/repo`, `github.com/owner/repo`, `https://github.com/owner/repo`
- 카드: 이름/요약/언어/stars/forks/업데이트일/링크
- 상세 모달: `개요/README/Activity`, 메모 입력
- 수동 번역 버튼(개요/README/Activity)
- 등록 카드 검색(메인 카테고리에서만 입력 노출)

## 4.3 YouTube 보드

- 영상 URL 추가: `watch`, `youtu.be`, `shorts`
- 카드: 썸네일/제목/채널/조회수/게시일/링크/요약
- 요약: GLM 기반 텍스트 요약(카드 추가 후 비동기 생성)
- 요약 실패 시 카드 추가는 유지되고, 카드에서 재시도 가능
- NotebookLM source 연동은 권한 준비 전 `disabled-safe` 상태로 필드만 유지
- 상세 모달 없음
- 등록 카드 검색(탭 내 로컬 필터)

## 4.4 Bookmark 보드

- URL 추가: `http/https`만 허용
- 서버 메타 추출 후 카드 생성, 실패 시 fallback 카드 생성
- 카드: 제목/excerpt/도메인/링크/추가일
- 중복 정리 도우미 제공(그룹 병합)
- 상세 모달 없음

## 4.5 카테고리 정책 (보드 공통)

- 기본 카테고리: `메인(main)`, `창고(warehouse)`
- 메인에서만 추가 입력폼 노출
- 사용자 카테고리 생성/이름변경/삭제
- 기본 카테고리는 삭제 불가, 이름변경 가능
- 카드 이동은 단일 소속 변경
- 카테고리 삭제 시 카드 자동 창고 이동

## 4.6 리스트/페이지네이션

- 데스크톱 4열
- 페이지당 12개
- 검색어 변경 시 페이지 1로 리셋

## 4.7 통합검색

- 검색 대상: PostgreSQL `unified_items`
- 필터: provider/type
- 최근검색: 최대 20개
- 백업 내보내기/복원(JSON)

## 5. 품질 요구사항

- 오류 메시지는 사용자 행동 유도형으로 제공
- 원격 저장 장애 시 자동 로컬 전환
- 재연결 시 자동 복구 시도
- README 렌더 XSS 방지
- 북마크 메타 추출에서 SSRF 방어

## 6. 성공 기준

- 주요 플로우(추가/이동/삭제/검색/복원)가 탭별로 안정 동작
- 원격 저장 실패에도 데이터 유실 없이 로컬 지속 동작
- 통합검색에서 오탈자/prefix 검색 품질 개선 체감
- `lint`, `test`, `build`, `test:e2e:postgres` 통과

## 7. 제외 범위

- 사용자 계정/권한 관리
- 다중 사용자 협업/공유 링크
- YouTube 채널/플레이리스트 수집
- 북마크 수동 편집 폼(제목/excerpt 직접 편집)
