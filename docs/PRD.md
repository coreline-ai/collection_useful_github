# PRD: Unified Knowledge Cardboard

업데이트 기준: 2026-02-17

## 1) 제품 개요

개인 개발자가 GitHub 저장소, YouTube 영상, 웹 북마크를 카드 형태로 저장/분류/검색/복구할 수 있는 통합 대시보드.

핵심 가치:

- 수집: URL 입력으로 즉시 카드화
- 정리: 카테고리/창고/이동/삭제
- 탐색: 보드별 조회 + 통합검색
- 안정성: PostgreSQL 우선 동기화 + 복구형 fallback

## 2) 타깃 사용자

- 기술 레퍼런스를 장기 보관하는 개인 개발자
- 반복 리서치 링크를 카테고리로 관리하는 사용자

## 3) 제품 목표

- 보드별 UX 독립성과 통합검색 정확도를 동시에 제공
- 장애 시 데이터 유실 최소화
- 수동 제어 가능한 요약 재생성 플로우 제공

## 4) 기능 요구사항

### 4.1 글로벌

- 최상단 탭: `통합검색 > 깃허브 > 유튜브 > 북마크`
- 탭 상태 localStorage 복원
- 테마: `light | dark` (저장값 우선, 없으면 OS 감지)
- 상단 동기화 배지:
  - `정상/재시도/로컬전환/복구완료`
  - 마지막 성공 시각 표시

### 4.2 GitHub 보드

- 입력: `owner/repo` 또는 GitHub URL
- 카드: repo, owner, summary, language, stars, forks, 링크
- 상세 모달: `Overview/README/Activity` + 메모
- 수동 번역: 개요/README/Activity 별도 버튼
- 요약 재생성:
  - 카드 하단 버튼 수동 실행
  - 비동기 큐 기반 GLM 요약
  - 성공 시 summary 교체, 실패 시 기존 summary 유지

### 4.3 YouTube 보드

- 입력: 영상 URL(`watch`, `youtu.be`, `shorts`)만 허용
- 카드: 썸네일, 제목, 채널, 조회수, 게시일, 링크, 요약 상태
- 요약 재생성: 카드 하단 버튼 수동 실행
- NotebookLM source 연동 포인트 제공(기본 disabled-safe)
- 상세 모달 미제공

### 4.4 Bookmark 보드

- 입력: `http/https` URL
- 메타 추출 실패해도 fallback 카드 생성 허용
- 카드: 제목, 본문(summary 또는 excerpt), 링크, 도메인, 추가일
- 중복 정리 도우미 제공
- 링크 상태 점검 API 제공
- 요약 재생성:
  - 카드 하단 버튼 수동 실행
  - 성공 시 카드 본문을 summaryText로 전환
  - 실패 시 기존 excerpt 유지
- 상세 모달 미제공

### 4.5 카테고리 정책(보드 공통)

- 기본: `main`, `warehouse`
- 메인에서만 추가/검색 입력 노출
- 사용자 카테고리 생성/이름변경/삭제
- 기본 카테고리 삭제 불가, 이름변경 가능
- 카드 단일 소속
- 카테고리 삭제 시 카드 자동 창고 이동

### 4.6 리스트/검색

- 4열(데스크톱), 페이지당 12개
- 검색 입력 변경 시 페이지 1 리셋
- 보드 내부 검색은 실시간 필터
- 통합검색은 provider/type 필터 + 관련도 정렬

### 4.7 백업/복구

- 통합 백업 내보내기/복원
- DB 백업/복구/검증 스크립트
- 리허설 스크립트(`db:drill`) 및 실행 증적 관리

## 5) 비기능 요구사항

- 보안:
  - XSS 방어(README/마크다운 렌더)
  - 북마크 메타 추출 SSRF 방어
  - 시크릿 스캔(파일 + 히스토리)
- 가용성:
  - 원격 저장 실패 시 재시도 후 fallback
  - 복구 성공 시 자동 정상화
- 성능:
  - Web Vitals 임계치(INP/LCP/CLS) 운영 점검
  - 검색 인덱스 + 캐시 기반 응답 최적화

## 6) 수용 기준

- GitHub/YouTube/Bookmark 핵심 플로우(추가/이동/삭제/검색) 동작
- 요약 재생성 3보드 모두 동작
- 원격 장애 시 사용자 작업 지속 가능
- 백업/복구 리허설 성공 증적 존재
- 아래 명령 통과:
  - `npm run lint`
  - `npm run test`
  - `npm run build`
  - `npm run test:e2e:postgres`

## 7) 제외 범위

- 사용자 계정/권한/멀티테넌트
- 다중 사용자 실시간 협업
- YouTube 채널/플레이리스트 수집
- 북마크 본문 수동 편집기
